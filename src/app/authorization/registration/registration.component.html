<div class="container">
  <div class="card shadow">
    <div class="card-body">
      <form
        [formGroup]="registrationForm"
        (ngSubmit)="submitform(registrationForm.value)"
      >
        <div class="row g-0">
          <div class="col text-center p-2 mb-3">
            <span class="fs-3">User Registration</span>
          </div>
        </div>
        <div class="row">
          <div class="col mb-3">
            <label for="fullname" class="form-label"
              >Full Name (FirstName , LastName)</label
            >
            <input
              type="text"
              class="form-control"
              id="fullname"
              formControlName="fullname"
            />
            <div
              class="form-text text-danger"
              *ngIf="registrationFormValidator['fullname'].errors?.['required'] &&  (registrationFormValidator['fullname']?.touched || registrationFormValidator['fullname']?.dirty)"
            >
              Name is required.
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col mb-3">
            <label for="email" class="form-label">Email Address</label>
            <input
              #email
              type="text"
              class="form-control"
              id="email"
              formControlName="email"
            />
            <div
              class="form-text text-danger"
              *ngIf="registrationFormValidator['email']?.errors?.['required'] && (registrationFormValidator['email'].dirty ||  registrationFormValidator['email']?.touched)"
            >
              Email is required.
            </div>
            <div
              class="form-text text-danger"
              *ngIf="registrationFormValidator['email']?.errors?.['email'] && (registrationFormValidator['email']?.dirty || registrationFormValidator ['email']?.touched)"
            >
              Email is Invalid.
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-mb-3">
            <label for="password" class="form-label">Password</label>
            <input
              type="password"
              class="form-control"
              id="pwd"
              formControlName="pwd"
            />
            <div
              class="form-text text-danger"
              *ngIf="registrationFormValidator['pwd']?.errors?.['required'] && (registrationFormValidator['pwd']?.dirty || registrationFormValidator['pwd']?.touched)"
            >
              Password is required.
            </div>
            <div
              class="form-text text-danger"
              *ngIf="registrationFormValidator['pwd']?.errors?.['pattern']"
            >
              Password should be atleast 8 characters long and should contain
              one number,one character and one special character
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-mb-3">
            <div class="field">
              <label for="cpwd" class="form-label">Confirm Password</label>
              <input
                type="password"
                class="form-control"
                id="cpwd"
                formControlName="cpwd"
              />
              <div
                class="form-text text-danger"
                *ngIf="registrationFormValidator['cpwd']?.errors?.['required'] && (registrationFormValidator['cpwd']?.dirty || registrationFormValidator['cpwd']?.touched)"
              >
                Confirmn Password is Required..
              </div>

              <div
                class="form-text text-danger"
                *ngIf="registrationFormValidator['cpwd']?.errors?.['confirmationValidator'] && registrationFormValidator['cpwd']?.touched"
              >
                Passsword and Confirm Password didn't match.
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="field">
            <div class="m-1">Gender</div>
            <div class="wrapper">
              <div class="form-check form-check-inline">
                <input
                  type="radio"
                  class="form-check-input"
                  value="male"
                  id="male"
                  formControlName="gender"
                />
                <label class="form-check-label" for="male">Male</label>
              </div>
              <div class="form-check form-check-inline">
                <input
                  type="radio"
                  class="form-check-input"
                  value="female"
                  id="female"
                  formControlName="gender"
                />
                <label class="form-check-label" for="female">Female</label>
              </div>
              <div class="form-check form-check-inline">
                <input
                  type="radio"
                  class="form-check-input"
                  value="other"
                  id="other"
                  formControlName="gender"
                />
                <label class="form-check-label" for="female">Other</label>
              </div>
              <div
                class="form-text text-danger"
                *ngIf="registrationFormValidator['gender']?.errors?.['required'] && (registrationFormValidator['gender']?.dirty || registrationFormValidator['gender']?.touched)"
              >
                Gender is required.
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-mb-3">
            <div class="field">
              <label for="birthday" class="form-label"> Date Of Birth :</label>
              <input
                type="date"
                class="form-control input-sm"
                formControlName="birthday"
                [max]="getToday()"
                (keydown)="(false)"
              />
              <div
                class="form-text text-danger"
                *ngIf="registrationFormValidator['birthday']?.errors?.['required'] && (registrationFormValidator['birthday']?.dirty || registrationFormValidator['birthday']?.touched)"
              >
                Birthday is required.
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-mb-3 mt-0">
            <div class="field">
              <label for="mobile" class="form-label">Mobile Number</label>
              <input
                type="number"
                formControlName="mobile"
                class="form-control"
                placeholder=""
              />
              <div
                class="form-text text-danger"
                *ngIf="registrationFormValidator['mobile']?.errors?.['required'] && (registrationFormValidator['mobile']?.dirty || registrationFormValidator['mobile']?.touched)"
              >
                Number is required.
              </div>
              <div
                class="form-text text-danger"
                *ngIf="registrationFormValidator['mobile']?.errors?.['pattern'] && registrationFormValidator['mobile']?.touched && !registrationFormValidator['mobile']?.errors?.['required'] "
              >
                Please insert a valid Mobile number.
              </div>
            </div>
          </div>
        </div>
        <div class="form-group form-check">
          <div class="field">
            <input
              type="checkbox"
              formControlName="acceptTerms"
              id="acceptTerms"
              class="form-check-input"
              [ngClass]="{
                'is-invalid': registrationFormValidator['acceptTerms'].value
              }"
            />
            <label
              for="acceptTerms"
              class="form-check-label"
              style="margin-bottom: 5px"
              >Accept Terms & Conditions</label
            >
            <div
              *ngIf="registrationFormValidator['acceptTerms'].value"
              class="invalid-feedback"
            >
              Accept Ts & Cs is required
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-mb-3">
            <div class="d-grid">
              <button
                type="submit"
                [disabled]="!registrationForm.valid"
                class="btn btn-success"
              >
                Register Now
              </button>
              <p class="text-center">
                Already have an account? <a routerLink="/login">Log In</a>
              </p>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
